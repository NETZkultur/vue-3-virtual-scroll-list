var VirtualList=function(t){"use strict";function e(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==r)return;var a,n,o=[],l=!0,i=!1;try{for(r=r.call(t);!(l=(a=r.next()).done)&&(o.push(a.value),!e||o.length!==e);l=!0);}catch(t){i=!0,n=t}finally{try{l||null==r.return||r.return()}finally{if(i)throw n}}return o}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return r(t,e);var a=Object.prototype.toString.call(t).slice(8,-1);"Object"===a&&t.constructor&&(a=t.constructor.name);if("Map"===a||"Set"===a)return Array.from(t);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return r(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,a=new Array(e);r<e;r++)a[r]=t[r];return a}var a=t.defineComponent({props:{size:{type:Number,required:!0},remain:{type:Number,required:!0},rtag:{type:String,default:"div"},wtag:{type:String,default:"div"},wclass:{type:String,default:""},wstyle:{type:Object,default:function(){return{}}},start:{type:Number,default:0},offset:{type:Number,default:0},variable:{type:[Function,Boolean],default:!1},bench:{type:Number,default:0},totop:{type:[Function,Boolean],default:!1},tobottom:{type:[Function,Boolean],default:!1},onscroll:{type:[Function,Boolean],default:!1},istable:{type:Boolean,default:!1},item:{type:[Function,Object],default:null},itemcount:{type:Number,default:0},itemprops:{type:Function,default:function(){}}},methods:{forceRender:function(){var t=this;window.requestAnimationFrame((function(){t.$forceUpdate()}))},setScrollTop:function(t){this.$el.scrollTop=t}},setup:function(e,r){var a=this,n=t.getCurrentInstance(),o=t.ref(null),l="",i=Object.create(null),s=e.start>=e.remain?e.start:0,u=e.remain+(e.bench||e.remain);i.direction="",i.scrollTop=0,i.start=s,i.end=s+u-1,i.keeps=u,i.total=0,i.offsetAll=0,i.paddingTop=0,i.paddingBottom=0,i.varCache={},i.varAverSize=0,i.varLastCalcIndex=0;var f=function(){window.requestAnimationFrame((function(){var t;null==n||null===(t=n.proxy)||void 0===t||t.$forceUpdate()}))},c=t.computed((function(){var t,e;return(null===(t=r.slots)||void 0===t||null===(e=t.default)||void 0===e?void 0:e.call(t)).map((function(t){return t.type.toString().startsWith("Symbol")?t.children:t})).flat()})),d=function(t){var e,r;t=parseInt(t,10),t=Math.max(0,t);var a=i.total-i.keeps,n=t<=i.total&&t>=a||t>i.total;return r=(e=n?Math.max(0,a):t)+i.keeps-1,i.total&&r>i.total&&(r=i.total-1),{end:r,start:e,isLast:n}},p=function(t,r){var a=i.varCache[t];if(!r&&a)return a.size;if("function"==typeof e.variable)return e.variable(t)||0;var n=c.value[t],o=n&&n.props&&n.props.style;if(o&&o.height){var l=o.height.match(/^(.*)px$/);return l&&+l[1]||0}return 0},v=function(t,e){var r=i.varCache[t];if(!e&&r)return r.offset;for(var a=0,n=0;n<t;n++){var o=p(n,e);i.varCache[n]={size:o,offset:a},a+=o}return i.varLastCalcIndex=Math.max(i.varLastCalcIndex,t-1),i.varLastCalcIndex=Math.min(i.varLastCalcIndex,i.total-1),a},m=function(t){o&&((o.$el||o).scrollTop=t)};t.onBeforeUpdate((function(){i.keeps=e.remain+(e.bench||e.remain);var r="start"===l?e.start:i.start,n=d(r);if(l&&["start","size","offset"].includes(l)){var o="offset"===l?e.offset:e.variable?v(n.isLast?i.total:n.start):n.isLast&&i.total-r<=e.remain?i.total*e.size:r*e.size;t.nextTick(m.bind(a,o))}(l||i.end!==n.end||r!==n.start)&&(l="",i.end=n.end,i.start=n.start,f())}));var y=function(){var t,r,a,n=c.value||[];n.length||(i.start=0),i.total=n.length;var o,l=i.total>i.keeps;e.variable?(a=i.total-i.end<=i.keeps||i.varLastCalcIndex===i.total-1?v(i.total):v(i.start)+(i.total-i.end)*(i.varAverSize||e.size),t=l?v(i.start):0,r=l?(o=i.total-1,i.total-i.end<=i.keeps||i.varLastCalcIndex===o?v(o)-v(i.end):(i.total-i.end)*(i.varAverSize||e.size)):0):(a=e.size*i.total,t=e.size*(l?i.start:0),r=e.size*(l?i.total-i.keeps:0)-t),r<e.size&&(r=0),i.paddingTop=t,i.paddingBottom=r,i.offsetAll=a-e.size*e.remain;for(var s=[],u=i.start;u<i.total&&u<=Math.ceil(i.end);u++){var f=n[u];s.push(f)}return s},h=function(t){var r=e.variable?function(t){for(var e=0,r=0,a=0,n=i.total;e<=n;){if(r=e+Math.floor((n-e)/2),a=v(r),i.varAverSize||(i.varAverSize=Math.floor(a/r)),a===t)return r;a<t?e=r+1:a>t&&(n=r-1)}return e>0?--e:0}(t):Math.floor(t/e.size);"U"===i.direction&&(r=r-e.remain+1);var a=d(r),n=e.bench||e.remain,o=1===Math.abs(r-i.start-n);!o&&r-i.start<=n&&!a.isLast&&r>i.start||(o||a.start!==i.start||a.end!==i.end)&&(i.end=a.end,i.start=a.start,f())},b=function(){var t;t=o.value.scrollTop||0,i.direction=t>i.scrollTop?"D":"U",i.scrollTop=t,i.total>i.keeps?h(t):i.end=i.total-1;var a=i.offsetAll;if(e.onscroll){var n=Object.create(null);n.offset=t,n.offsetAll=a,n.start=i.start,n.end=i.end}!t&&i.total&&r.emit("totop"),t>=a&&r.emit("tobottom")};return function(){var r=y(),a=i.paddingTop,n=i.paddingBottom,l=e.istable,s=l?"div":e.wtag,u=l?"div":e.rtag;l&&(r=[t.h("table",[t.h("tbody",r)])]);var f=t.h(s,{style:Object.assign({display:"block","padding-top":a+"px","padding-bottom":n+"px"},e.wstyle),class:e.wclass,role:"group"},r);return t.h(u,{ref:o,style:{display:"block","overflow-y":e.size>=e.remain?"auto":"initial"},onScroll:b},[f])}}}),n=function(){var t=a;return t.install=function(e){e.component("VirtualList",t)},t}(),o=Object.freeze({__proto__:null,default:n});return Object.entries(o).forEach((function(t){var r=e(t,2),a=r[0],o=r[1];"default"!==a&&(n[a]=o)})),n}(Vue);